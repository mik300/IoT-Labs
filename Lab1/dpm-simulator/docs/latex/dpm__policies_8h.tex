\hypertarget{dpm__policies_8h}{}\doxysection{inc/dpm\+\_\+policies.h File Reference}
\label{dpm__policies_8h}\index{inc/dpm\_policies.h@{inc/dpm\_policies.h}}


Functions related to dynamic power management policies.  


{\ttfamily \#include \char`\"{}inc/psm.\+h\char`\"{}}\newline
\doxysubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structdpm__timeout__params}{dpm\+\_\+timeout\+\_\+params}}
\begin{DoxyCompactList}\small\item\em Container for timeout policy parameters (can store more than 1 timeout) \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structdpm__history__params}{dpm\+\_\+history\+\_\+params}}
\begin{DoxyCompactList}\small\item\em Container for history policy parameters. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structdpm__work__item}{dpm\+\_\+work\+\_\+item}}
\begin{DoxyCompactList}\small\item\em Container for workload requests, i.\+e., items of work to be done by the simulated system, each with a request time (arrival) and a duration. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{group__dpm__params_ga5ea6ed63ca9b0640f73ee2424ef1e889}{DPM\+\_\+\+HIST\+\_\+\+WIND\+\_\+\+SIZE}}~5
\item 
\#define \mbox{\hyperlink{group__dpm__params_ga8f42480e9b523c822c6068596256bc4a}{DPM\+\_\+\+N\+\_\+\+THRESHOLDS}}~2
\item 
\#define \mbox{\hyperlink{group__simulator__params_gab7068c8be888af4a29b8e7e676fee108}{SIMULATION\+\_\+\+TIME\+\_\+\+STEP}}~1e-\/4
\item 
\#define \mbox{\hyperlink{group__dpm__policy__ids_gaec4bbf14060eb572411fce35b2e25e59}{DPM\+\_\+\+TIMEOUT}}~0
\item 
\#define \mbox{\hyperlink{group__dpm__policy__ids_ga0f8c0ae9b29113a889d131ea39129df5}{DPM\+\_\+\+HISTORY}}~1
\end{DoxyCompactItemize}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef int \mbox{\hyperlink{dpm__policies_8h_a23062a56d50a71161d79d0145e7c6fcf}{dpm\+\_\+policy\+\_\+t}}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{dpm__policies_8h_ae9744421f5065ed4d422088c370903fc}{dpm\+\_\+simulate}} (\mbox{\hyperlink{structpsm__t}{psm\+\_\+t}} psm, \mbox{\hyperlink{dpm__policies_8h_a23062a56d50a71161d79d0145e7c6fcf}{dpm\+\_\+policy\+\_\+t}} sel\+\_\+policy, \mbox{\hyperlink{structdpm__timeout__params}{dpm\+\_\+timeout\+\_\+params}} tparams, \mbox{\hyperlink{structdpm__history__params}{dpm\+\_\+history\+\_\+params}} hparams, char $\ast$fwl)
\begin{DoxyCompactList}\small\item\em Run the DPM simulation loop on a workload file. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structdpm__work__item}{dpm\+\_\+work\+\_\+item}} $\ast$ \mbox{\hyperlink{dpm__policies_8h_a5a38a5e6d10a8f5b90f2a351cce09b20}{dpm\+\_\+init\+\_\+work\+\_\+queue}} (int $\ast$num\+\_\+items, char $\ast$fwl)
\begin{DoxyCompactList}\small\item\em Initialize the work queue using data from a workload file. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{dpm__policies_8h_aeccf893f710f0c40746e0168a2bdb229}{dpm\+\_\+decide\+\_\+state}} (\mbox{\hyperlink{group__psm__type_gab3c5521443d52fa6d51222008bb2057e}{psm\+\_\+state\+\_\+t}} $\ast$next\+\_\+state, \mbox{\hyperlink{group__psm__type_gab3c5521443d52fa6d51222008bb2057e}{psm\+\_\+state\+\_\+t}} prev\+\_\+state, \mbox{\hyperlink{group__psm__type_gaa86b7e9d3e627cccf6bcd5fc355ae44c}{psm\+\_\+time\+\_\+t}} t\+\_\+curr, \mbox{\hyperlink{group__psm__type_gaa86b7e9d3e627cccf6bcd5fc355ae44c}{psm\+\_\+time\+\_\+t}} t\+\_\+inactive\+\_\+start, \mbox{\hyperlink{group__psm__type_gaa86b7e9d3e627cccf6bcd5fc355ae44c}{psm\+\_\+time\+\_\+t}} $\ast$history, \mbox{\hyperlink{dpm__policies_8h_a23062a56d50a71161d79d0145e7c6fcf}{dpm\+\_\+policy\+\_\+t}} policy, \mbox{\hyperlink{structdpm__timeout__params}{dpm\+\_\+timeout\+\_\+params}} tparams, \mbox{\hyperlink{structdpm__history__params}{dpm\+\_\+history\+\_\+params}} hparams)
\begin{DoxyCompactList}\small\item\em Decide the next PSM state according to a given DPM policy. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{dpm__policies_8h_a36797c946e32398ff908d9a167104408}{dpm\+\_\+init\+\_\+history}} (\mbox{\hyperlink{group__psm__type_gaa86b7e9d3e627cccf6bcd5fc355ae44c}{psm\+\_\+time\+\_\+t}} $\ast$h)
\begin{DoxyCompactList}\small\item\em Initialize the history of previous inactive times at the beginning of a simulation. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{dpm__policies_8h_a320c6d500c490ee1fc3a9baa569ec060}{dpm\+\_\+update\+\_\+history}} (\mbox{\hyperlink{group__psm__type_gaa86b7e9d3e627cccf6bcd5fc355ae44c}{psm\+\_\+time\+\_\+t}} $\ast$h, \mbox{\hyperlink{group__psm__type_gaa86b7e9d3e627cccf6bcd5fc355ae44c}{psm\+\_\+time\+\_\+t}} new\+\_\+inactive)
\begin{DoxyCompactList}\small\item\em Update the history of previous inactive times. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Functions related to dynamic power management policies. 



\doxysubsection{Typedef Documentation}
\mbox{\Hypertarget{dpm__policies_8h_a23062a56d50a71161d79d0145e7c6fcf}\label{dpm__policies_8h_a23062a56d50a71161d79d0145e7c6fcf}} 
\index{dpm\_policies.h@{dpm\_policies.h}!dpm\_policy\_t@{dpm\_policy\_t}}
\index{dpm\_policy\_t@{dpm\_policy\_t}!dpm\_policies.h@{dpm\_policies.h}}
\doxysubsubsection{\texorpdfstring{dpm\_policy\_t}{dpm\_policy\_t}}
{\footnotesize\ttfamily typedef int \mbox{\hyperlink{dpm__policies_8h_a23062a56d50a71161d79d0145e7c6fcf}{dpm\+\_\+policy\+\_\+t}}}

Type alias for DPM policy IDs 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{dpm__policies_8h_aeccf893f710f0c40746e0168a2bdb229}\label{dpm__policies_8h_aeccf893f710f0c40746e0168a2bdb229}} 
\index{dpm\_policies.h@{dpm\_policies.h}!dpm\_decide\_state@{dpm\_decide\_state}}
\index{dpm\_decide\_state@{dpm\_decide\_state}!dpm\_policies.h@{dpm\_policies.h}}
\doxysubsubsection{\texorpdfstring{dpm\_decide\_state()}{dpm\_decide\_state()}}
{\footnotesize\ttfamily int dpm\+\_\+decide\+\_\+state (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__psm__type_gab3c5521443d52fa6d51222008bb2057e}{psm\+\_\+state\+\_\+t}} $\ast$}]{next\+\_\+state,  }\item[{\mbox{\hyperlink{group__psm__type_gab3c5521443d52fa6d51222008bb2057e}{psm\+\_\+state\+\_\+t}}}]{prev\+\_\+state,  }\item[{\mbox{\hyperlink{group__psm__type_gaa86b7e9d3e627cccf6bcd5fc355ae44c}{psm\+\_\+time\+\_\+t}}}]{t\+\_\+curr,  }\item[{\mbox{\hyperlink{group__psm__type_gaa86b7e9d3e627cccf6bcd5fc355ae44c}{psm\+\_\+time\+\_\+t}}}]{t\+\_\+inactive\+\_\+start,  }\item[{\mbox{\hyperlink{group__psm__type_gaa86b7e9d3e627cccf6bcd5fc355ae44c}{psm\+\_\+time\+\_\+t}} $\ast$}]{history,  }\item[{\mbox{\hyperlink{dpm__policies_8h_a23062a56d50a71161d79d0145e7c6fcf}{dpm\+\_\+policy\+\_\+t}}}]{policy,  }\item[{\mbox{\hyperlink{structdpm__timeout__params}{dpm\+\_\+timeout\+\_\+params}}}]{tparams,  }\item[{\mbox{\hyperlink{structdpm__history__params}{dpm\+\_\+history\+\_\+params}}}]{hparams }\end{DoxyParamCaption})}



Decide the next PSM state according to a given DPM policy. 


\begin{DoxyParams}{Parameters}
{\em next\+\_\+state} & will be filled with the selected next state \\
\hline
{\em prev\+\_\+state} & the previous PSM state (not needed right now, but could be useful) \\
\hline
{\em t\+\_\+curr} & the current time instant \\
\hline
{\em t\+\_\+inactive\+\_\+start} & the time instant in which the system became inactive \\
\hline
{\em history} & the history of previous inactive intervals durations (used for history policies) \\
\hline
{\em policy} & the ID of the selected DPM policy \\
\hline
{\em tparams} & the parameters of the timeout policy (if selected) \\
\hline
{\em hparams} & the parameters of the history policy (if selected)\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 on success, 0 on failure 
\end{DoxyReturn}
\mbox{\Hypertarget{dpm__policies_8h_a36797c946e32398ff908d9a167104408}\label{dpm__policies_8h_a36797c946e32398ff908d9a167104408}} 
\index{dpm\_policies.h@{dpm\_policies.h}!dpm\_init\_history@{dpm\_init\_history}}
\index{dpm\_init\_history@{dpm\_init\_history}!dpm\_policies.h@{dpm\_policies.h}}
\doxysubsubsection{\texorpdfstring{dpm\_init\_history()}{dpm\_init\_history()}}
{\footnotesize\ttfamily void dpm\+\_\+init\+\_\+history (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__psm__type_gaa86b7e9d3e627cccf6bcd5fc355ae44c}{psm\+\_\+time\+\_\+t}} $\ast$}]{h }\end{DoxyParamCaption})}



Initialize the history of previous inactive times at the beginning of a simulation. 


\begin{DoxyParams}{Parameters}
{\em h} & the array containing the history of inactive intervals \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{dpm__policies_8h_a5a38a5e6d10a8f5b90f2a351cce09b20}\label{dpm__policies_8h_a5a38a5e6d10a8f5b90f2a351cce09b20}} 
\index{dpm\_policies.h@{dpm\_policies.h}!dpm\_init\_work\_queue@{dpm\_init\_work\_queue}}
\index{dpm\_init\_work\_queue@{dpm\_init\_work\_queue}!dpm\_policies.h@{dpm\_policies.h}}
\doxysubsubsection{\texorpdfstring{dpm\_init\_work\_queue()}{dpm\_init\_work\_queue()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structdpm__work__item}{dpm\+\_\+work\+\_\+item}}$\ast$ dpm\+\_\+init\+\_\+work\+\_\+queue (\begin{DoxyParamCaption}\item[{int $\ast$}]{num\+\_\+items,  }\item[{char $\ast$}]{fwl }\end{DoxyParamCaption})}



Initialize the work queue using data from a workload file. 


\begin{DoxyParams}{Parameters}
{\em num\+\_\+items} & pointer to an integer that will be filled with the number of work items in the queue \\
\hline
{\em fwl} & the input filename\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a pointer to a dynamically allocated array of \mbox{\hyperlink{structdpm__work__item}{dpm\+\_\+work\+\_\+item}} elements. 
\end{DoxyReturn}
\mbox{\Hypertarget{dpm__policies_8h_ae9744421f5065ed4d422088c370903fc}\label{dpm__policies_8h_ae9744421f5065ed4d422088c370903fc}} 
\index{dpm\_policies.h@{dpm\_policies.h}!dpm\_simulate@{dpm\_simulate}}
\index{dpm\_simulate@{dpm\_simulate}!dpm\_policies.h@{dpm\_policies.h}}
\doxysubsubsection{\texorpdfstring{dpm\_simulate()}{dpm\_simulate()}}
{\footnotesize\ttfamily int dpm\+\_\+simulate (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structpsm__t}{psm\+\_\+t}}}]{psm,  }\item[{\mbox{\hyperlink{dpm__policies_8h_a23062a56d50a71161d79d0145e7c6fcf}{dpm\+\_\+policy\+\_\+t}}}]{sel\+\_\+policy,  }\item[{\mbox{\hyperlink{structdpm__timeout__params}{dpm\+\_\+timeout\+\_\+params}}}]{tparams,  }\item[{\mbox{\hyperlink{structdpm__history__params}{dpm\+\_\+history\+\_\+params}}}]{hparams,  }\item[{char $\ast$}]{fwl }\end{DoxyParamCaption})}



Run the DPM simulation loop on a workload file. 


\begin{DoxyParams}{Parameters}
{\em psm} & the input psm specification \\
\hline
{\em sel\+\_\+policy} & the selected policy type \\
\hline
{\em tparams} & the timeout policy parameters (if selected) \\
\hline
{\em hparams} & the history policy parameters (if selected) \\
\hline
{\em fwl} & the worload filename\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 on success, 0 on failure 
\end{DoxyReturn}
\mbox{\Hypertarget{dpm__policies_8h_a320c6d500c490ee1fc3a9baa569ec060}\label{dpm__policies_8h_a320c6d500c490ee1fc3a9baa569ec060}} 
\index{dpm\_policies.h@{dpm\_policies.h}!dpm\_update\_history@{dpm\_update\_history}}
\index{dpm\_update\_history@{dpm\_update\_history}!dpm\_policies.h@{dpm\_policies.h}}
\doxysubsubsection{\texorpdfstring{dpm\_update\_history()}{dpm\_update\_history()}}
{\footnotesize\ttfamily void dpm\+\_\+update\+\_\+history (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group__psm__type_gaa86b7e9d3e627cccf6bcd5fc355ae44c}{psm\+\_\+time\+\_\+t}} $\ast$}]{h,  }\item[{\mbox{\hyperlink{group__psm__type_gaa86b7e9d3e627cccf6bcd5fc355ae44c}{psm\+\_\+time\+\_\+t}}}]{new\+\_\+inactive }\end{DoxyParamCaption})}



Update the history of previous inactive times. 


\begin{DoxyParams}{Parameters}
{\em h} & the array containing the history of inactive intervals \\
\hline
{\em new\+\_\+inactive} & the new inactive interval to be inserted \\
\hline
\end{DoxyParams}
